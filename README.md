# mkenv
Install:
```npm install --save mkenv```

Use:
```var mkenv = require('mkenv');```

## constructor: mkenv(envs...)
 constructor: mkenv(envs...) accepts hashes

```
mkenv({ x: 'y' })('x').should.equal('y')
```


 constructor: mkenv(envs...) accepts functions

```
mkenv(function (name) {
	return name == 'x' ? 'y' : null;
})('x').should.equal('y')
```


### composition
 composition nested envs retrieve values from root

```
mkenv(
	{ z: 'y' },
	mkenv({ 'x': '$z' })
)('x').should.equal('y')
```


## string values
 string values can be retrieved

```
mkenv({ x: 'y' })('x').should.equal('y')
```


 string values can be overridden

```
mkenv({ x: 'y' }, { x: 'z'})('x').should.equal('z')
```


## simple replacements
 simple replacements are made

```
mkenv({
	x: 'y',
	y: '$x'
})('y').should.equal('y')
```


 simple replacements can be combined

```
mkenv({
	x: 'y',
	y: '$x$x$x'
})('y').should.equal('yyy')
```


 simple replacements can be chained

```
mkenv({
	x: 'y',
	y: '$x',
	z: '$y',
	w: '$z'
})('w').should.equal('y')
```


## bracketed replacements
 bracketed replacements are made

```
mkenv({
	x: 'y',
	y: '${x}'
})('y').should.equal('y')
```


 bracketed replacements can be nested

```
mkenv({
	x: 'y',
	n: 'x',
	y: '${$n}'
})('y').should.equal('y')
```


 bracketed replacements can be nested, combined, and chained

```
mkenv({
	x: 'y',
	n: 'x',
	xx: '$x$x',
	y: '${$n$n}'
})('y').should.equal('yy')
```


## #keys
 #keys returns the keys stored in an env

```
mkenv.keys(
	mkenv({ x: 'y' }, { y: 'z'})
).should.eql(['x', 'y'])
```


 #keys returns the keys stored in a nested env

```
mkenv.keys(
	mkenv({ x: 'y' }, mkenv({ y: 'z'}))
).should.eql(['x', 'y'])
```


 #keys returns additional keys

```
var env = mkenv({ x: 'y' });
env.y = 'z'
mkenv.keys(env).should.eql(['x', 'y'])
```


## #vars
 #vars returns the vars stored in an env

```
mkenv.vars(
	mkenv({ x: 'y' }, { y: 'z'})
).should.eql({ x: 'y', y: 'z'})
```


 #vars returns the vars stored in a nested env

```
mkenv.vars(
	mkenv({ x: 'y' }, mkenv({ y: 'z'}))
).should.eql({ x: 'y', y: 'z'})
```


 #vars returns additional keys

```
var env = mkenv({ x: 'y' });
env.y = 'z'
mkenv.vars(env).should.eql({ x: 'y', y: 'z'})
```





Documentation generated by [Docha](https://github.com/tehsenaus/docha)